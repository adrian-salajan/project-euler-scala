apply plugin: "scala"
apply plugin: "application"

mainClassName = "euler.Main"

sourceSets {
  deploy
}

repositories {
  mavenCentral()
  maven {
    url 'http://scala-tools.org/repo-releases'
  }

}

dependencies {

  // Libraries needed to run the scala tools
1
  //scala
  compile 'org.scala-lang:scala-library:2.11.7'

//  testCompile 'org.scalactic:scalactic_2.11:2.2.6'
//  compileTestScala 'org.scalactic:scalatest_2.11:2.2.6'

  //jmh
  compile "org.openjdk.jmh:jmh-core:1.11.3"
  compile "org.openjdk.jmh:jmh-generator-annprocess:1.11.3"
  //scalaMeter
  compile "com.storm-enroute:scalameter_2.11:0.7"

//  junit
  testCompile  'junit:junit:4.11'
}


task wrapper(type: Wrapper) {
  gradleVersion="2.7"
}

task test(overwrite: true, dependsOn: testClasses) << {
  ant.taskdef(name: 'scalatest',
          classname: 'org.scalatest.tools.ScalaTestAntTask',
          classpath: sourceSets.test.runtimeClasspath.asPath
  )
  ant.scalatest(runpath: sourceSets.test.classesDir,
          haltonfailure: 'true',
          fork: 'false') {reporter(type: 'stdout')}
}
